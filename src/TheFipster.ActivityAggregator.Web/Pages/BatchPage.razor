@page "/batch"
@using TheFipster.ActivityAggregator.Web.Components.Batch
@using System.Text.Json


<MudTabs @ref="@_tabs" Elevation="0" Centered="true" Color="Color.Primary" ApplyEffectsToContainer="true"
         PanelClass="pa-6">

    @if (_batches != null)
    {
        @foreach (var batch in _batches)
        {
            @if (batch.Kind == DataKind.Day)
            {
                <MudTabPanel Text="Day">
                    <DayTab Batch="@batch"></DayTab>
                </MudTabPanel>
            }
            else
            {
                <MudTabPanel Text="@(batch.Timestamp.ToString("HH:mm:ss"))">
                    <SessionTab Batch="@batch"></SessionTab>
                </MudTabPanel>
            }
            
        }
    }
</MudTabs>